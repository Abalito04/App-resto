{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>üì¶ Gesti√≥n de Productos</h2>

    <!-- Agregar nuevo producto -->
    <form method="POST" class="mb-4 d-flex gap-2">
        <input type="text" class="form-control" name="nombre" placeholder="Nombre del producto" required>
        <input type="number" class="form-control" name="precio" placeholder="Precio" required step="0.01">
        <button class="btn btn-primary">Agregar producto</button>
    </form>

    <!-- Lista de productos -->
    <table class="table table-striped align-middle">
        <thead>
            <tr>
                <th>Nombre</th>
                <th class="text-end">Precio</th>
                <th class="text-center">Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for producto in productos %}
            <tr>
                <td>{{ producto.nombre }}</td>
                <td class="text-end">${{ producto.precio }}</td>
                <td class="text-center">
                    <form method="POST" action="{{ url_for('editar_producto', producto_id=producto.id) }}" class="d-inline-flex gap-1">
                        <input type="hidden" name="nombre" value="{{ producto.nombre }}">
                        <input type="hidden" name="precio" value="{{ producto.precio }}">
                        <button class="btn btn-warning btn-sm me-1" title="Guardar cambios">‚úè Guardar</button>
                    </form>
                    <form method="POST" action="{{ url_for('borrar_producto', producto_id=producto.id) }}" style="display:inline;">
                        <button class="btn btn-danger btn-sm" title="Borrar producto">üóë Borrar</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
